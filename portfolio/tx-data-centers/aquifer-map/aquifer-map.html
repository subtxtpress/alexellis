<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Built on Borrowed Water — Subtxt Press</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;0,900;1,700&family=IBM+Plex+Mono:wght@400;500&family=IBM+Plex+Sans:wght@300;400;500&display=swap" rel="stylesheet">
<link href="https://unpkg.com/maplibre-gl@3.6.2/dist/maplibre-gl.css" rel="stylesheet">
<script src="https://unpkg.com/maplibre-gl@3.6.2/dist/maplibre-gl.js"></script>
<style>
  :root {
    --ink: #0e0e0e; --paper: #f5f0e8; --cream: #ede8da; --rule: #c8bfa8; --accent: #c0392b;
    --mono:'IBM Plex Mono',monospace; --sans:'IBM Plex Sans',sans-serif; --serif:'Playfair Display',serif;
  }
  *{margin:0;padding:0;box-sizing:border-box}
  html,body{height:100%;overflow:hidden}
  body{background:var(--paper);color:var(--ink);font-family:var(--sans);font-size:14px;line-height:1.5;display:flex;flex-direction:column}

  .masthead{background:var(--ink);color:var(--paper);padding:9px 22px;display:flex;align-items:baseline;gap:16px;border-bottom:2px solid var(--accent);flex-shrink:0}
  .pub{font-family:var(--mono);font-size:10px;letter-spacing:.14em;text-transform:uppercase;color:#aaa}
  .pub span{color:var(--accent)}
  .dateline{font-family:var(--mono);font-size:9px;color:#555;margin-left:auto;letter-spacing:.08em}

  header{background:var(--ink);color:var(--paper);padding:14px 22px 12px;border-bottom:1px solid #1f1f1f;flex-shrink:0}
  .kicker{font-family:var(--mono);font-size:9px;letter-spacing:.22em;text-transform:uppercase;color:var(--accent);margin-bottom:5px}
  h1{font-family:var(--serif);font-size:clamp(20px,3vw,36px);font-weight:900;line-height:1.05;margin-bottom:7px}
  h1 em{font-style:italic;color:#999}
  .dek{font-family:var(--sans);font-size:12px;font-weight:300;color:#aaa;max-width:700px;line-height:1.55}
  .dek strong{color:#ddd;font-weight:500}

  .layout{display:flex;flex:1;min-height:0;overflow:hidden}

  aside{width:268px;flex-shrink:0;background:var(--cream);border-right:1px solid var(--rule);display:flex;flex-direction:column;overflow-y:auto;overflow-x:hidden}
  .sb{padding:13px 15px;border-bottom:1px solid var(--rule)}
  .sb:last-of-type{border-bottom:none}
  .sb-label{font-family:var(--mono);font-size:9px;letter-spacing:.18em;text-transform:uppercase;color:#999;margin-bottom:9px}

  .zone-row{display:flex;align-items:center;gap:9px;padding:5px 0;cursor:pointer;user-select:none}
  .zone-row:hover .zone-name{color:var(--ink)}
  .swatch{width:13px;height:13px;border-radius:2px;flex-shrink:0;transition:opacity .2s}
  .swatch.recharge{background:rgba(30,100,200,.55);border:1.5px solid rgba(30,100,200,.95)}
  .swatch.transition{background:rgba(60,150,80,.50);border:1.5px solid rgba(60,150,80,.90)}
  .swatch.contributing{background:rgba(210,155,30,.45);border:1.5px solid rgba(210,155,30,.85)}
  .zone-name{font-size:11px;color:#555;flex:1;transition:color .2s}
  .zone-row.off .swatch{opacity:.2}
  .zone-row.off .zone-name{color:#bbb;text-decoration:line-through}

  .pt-row{display:flex;align-items:center;gap:9px;padding:4px 0;font-size:11px;color:#555}
  .pt-dot{width:9px;height:9px;border-radius:50%;flex-shrink:0}

  .stat{display:flex;justify-content:space-between;align-items:baseline;padding:5px 0;border-bottom:1px dotted var(--rule)}
  .stat:last-child{border-bottom:none}
  .stat-lbl{font-size:11px;color:#777}
  .stat-val{font-family:var(--mono);font-size:12px;color:var(--ink);font-weight:500}
  .stat-val.red{color:var(--accent)}

  #info{background:var(--ink);color:var(--paper);padding:14px 15px;flex:1;font-size:11px;min-height:90px}
  .info-name{font-family:var(--serif);font-size:14px;font-weight:700;margin-bottom:4px}
  .info-meta{font-family:var(--mono);font-size:9px;color:#888;letter-spacing:.08em;margin-bottom:7px;text-transform:uppercase}
  .info-body{color:#bbb;line-height:1.55}
  .zone-badge{display:inline-block;padding:2px 7px;border-radius:2px;font-family:var(--mono);font-size:9px;letter-spacing:.06em;margin-top:8px;font-weight:500}
  .zb-r{background:rgba(30,100,200,.25);color:#7ab0f5}
  .zb-t{background:rgba(60,150,80,.25);color:#7dd49a}
  .zb-c{background:rgba(210,155,30,.25);color:#e8c94a}
  .zb-n{background:rgba(120,120,120,.15);color:#888}
  .placeholder{color:#444;font-style:italic;font-size:11px}

  .source-note{padding:9px 15px;background:#e4dfd2;border-top:1px solid var(--rule);font-family:var(--mono);font-size:8px;color:#aaa;letter-spacing:.05em;line-height:1.7;flex-shrink:0}
  .source-note strong{color:#888}

  #map{flex:1}

  footer{background:var(--ink);color:#555;padding:7px 22px;font-family:var(--mono);font-size:9px;letter-spacing:.08em;display:flex;gap:18px;border-top:1px solid #1a1a1a;flex-shrink:0}
  footer a{color:#777;text-decoration:none}
  footer a:hover{color:var(--paper)}
  .sep{color:#2a2a2a}

  .maplibregl-popup-content{background:var(--ink)!important;color:var(--paper)!important;border-radius:3px!important;padding:10px 13px!important;font-family:var(--sans)!important;font-size:11px!important;box-shadow:0 4px 18px rgba(0,0,0,.5)!important;max-width:220px!important}
  .maplibregl-popup-tip{border-top-color:var(--ink)!important}
  .maplibregl-popup-close-button{color:#666!important;font-size:15px!important;padding:3px 7px!important}
</style>
</head>
<body>

<div class="masthead">
  <span class="pub"><span>Subtxt</span> Press &middot; Data Investigation</span>
  <span class="dateline">Texas Data Center Registry &middot; Edwards Aquifer Overlay &middot; Feb 2026</span>
</div>

<header>
  <div class="kicker">Accountability &middot; Water &middot; Infrastructure</div>
  <h1>Built on <em>Borrowed</em> Water</h1>
  <p class="dek">San Antonio's data center boom clusters along the <strong>Edwards Aquifer recharge and contributing zones</strong> — fractured limestone that funnels surface contamination directly into the drinking water source for 2 million people. Texas requires a development plan before building here. It does not require disclosure of water consumption.</p>
</header>

<div class="layout">
<aside>
  <div class="sb">
    <div class="sb-label">Aquifer Zones &mdash; TCEQ 30 TAC &sect;213</div>
    <div class="zone-row" data-layer="recharge" onclick="toggleLayer(this)">
      <div class="swatch recharge"></div><span class="zone-name">Recharge Zone</span>
    </div>
    <div class="zone-row" data-layer="transition" onclick="toggleLayer(this)">
      <div class="swatch transition"></div><span class="zone-name">Transition Zone</span>
    </div>
    <div class="zone-row" data-layer="contributing" onclick="toggleLayer(this)">
      <div class="swatch contributing"></div><span class="zone-name">Contributing Zone</span>
    </div>
  </div>

  <div class="sb">
    <div class="sb-label">Data Centers</div>
    <div class="pt-row"><div class="pt-dot" style="background:#e74c3c;border:1.5px solid #c0392b"></div>Crypto mining</div>
    <div class="pt-row"><div class="pt-dot" style="background:#f39c12;border:1.5px solid #d68910"></div>Hyperscale (FAANG / Oracle / MS)</div>
    <div class="pt-row"><div class="pt-dot" style="background:#e8e2d6;border:1.5px solid #bbb"></div>Colocation / commercial</div>
  </div>

  <div class="sb">
    <div class="sb-label">SA-Area Facilities</div>
    <div class="stat"><span class="stat-lbl">Total mapped</span><span class="stat-val">18</span></div>
    <div class="stat"><span class="stat-lbl">On recharge zone</span><span class="stat-val red">~4</span></div>
    <div class="stat"><span class="stat-lbl">On contributing zone</span><span class="stat-val">~9</span></div>
    <div class="stat"><span class="stat-lbl">Water disclosure required</span><span class="stat-val red">None</span></div>
    <div class="stat"><span class="stat-lbl">EAA direct permits found</span><span class="stat-val">2 entities</span></div>
  </div>

  <div id="info"><div class="placeholder">&larr; Click a facility or aquifer zone</div></div>

  <div class="source-note">
    <strong>Sources:</strong> TX Comptroller STAR registry (Feb 2026) &middot; TCEQ 30 TAC Ch. 213 &middot; Edwards Aquifer Authority permit database &middot; Subtxt Press field research.<br>
    <strong>Zone geometry:</strong> Simplified from TCEQ official boundaries; for legal determination use TCEQ map viewer at tceq.texas.gov.
  </div>
</aside>

<div id="map"></div>
</div>

<footer>
  <span>&copy; 2026 Subtxt Press</span>
  <span class="sep">|</span>
  <a href="#">Full TX data center database</a>
  <span class="sep">|</span>
  <a href="#">FOIA targets</a>
  <span class="sep">|</span>
  <span>Methodology: STAR registry &middot; TCEQ GIS &middot; EAA permits</span>
</footer>

<script>
// Embedded aquifer zone geometry — simplified from TCEQ 30 TAC §213 boundaries
// Recharge zone: karst limestone outcrop arc through NW Bexar/Medina/Uvalde (Balcones Escarpment)
// Contributing zone: Edwards Plateau uplands draining toward recharge zone
const ZONES = {"type":"FeatureCollection","features":[
{"type":"Feature","properties":{"zone":"contributing","label":"Contributing Zone"},"geometry":{"type":"MultiPolygon","coordinates":[[[ [-100.2,29.9],[-100.0,30.2],[-99.7,30.35],[-99.4,30.4],[-99.1,30.35],[-98.8,30.2],[-98.55,30.0],[-98.38,29.82],[-98.28,29.65],[-98.22,29.48],[-98.22,29.35],[-98.25,29.25],[-98.30,29.18],[-98.38,29.15],[-98.42,29.18],[-98.44,29.25],[-98.46,29.32],[-98.48,29.40],[-98.50,29.47],[-98.52,29.53],[-98.57,29.58],[-98.63,29.62],[-98.70,29.65],[-98.77,29.67],[-98.84,29.65],[-98.90,29.62],[-98.96,29.60],[-99.02,29.60],[-99.10,29.62],[-99.18,29.65],[-99.25,29.68],[-99.35,29.72],[-99.50,29.75],[-99.65,29.74],[-99.78,29.70],[-99.88,29.62],[-99.95,29.52],[-99.98,29.42],[-99.97,29.30],[-99.92,29.20],[-99.85,29.12],[-99.75,29.05],[-99.62,29.00],[-99.50,28.98],[-99.35,29.00],[-99.20,29.05],[-99.05,29.12],[-98.90,29.18],[-98.76,29.22],[-98.65,29.25],[-98.57,29.28],[-98.52,29.32],[-98.48,29.40],[-98.44,29.35],[-98.42,29.37],[-98.40,29.40],[-98.40,29.43],[-98.43,29.47],[-98.46,29.52],[-98.50,29.55],[-98.54,29.57],[-98.58,29.60],[-98.63,29.62],[-98.70,29.65],[-98.77,29.67],[-98.84,29.65],[-98.90,29.62],[-98.93,29.58],[-98.96,29.55],[-98.98,29.52],[-99.00,29.50],[-99.05,29.48],[-99.12,29.45],[-99.20,29.43],[-99.30,29.42],[-99.45,29.42],[-99.58,29.45],[-99.70,29.48],[-99.80,29.52],[-99.87,29.56],[-99.90,29.60],[-99.88,29.62],[-100.2,29.9] ]]]
}},
{"type":"Feature","properties":{"zone":"transition","label":"Transition Zone"},"geometry":{"type":"MultiPolygon","coordinates":[[[ [-98.92,29.66],[-98.86,29.68],[-98.79,29.70],[-98.72,29.69],[-98.65,29.66],[-98.59,29.63],[-98.54,29.60],[-98.49,29.56],[-98.45,29.52],[-98.43,29.48],[-98.40,29.44],[-98.40,29.40],[-98.42,29.37],[-98.44,29.35],[-98.46,29.32],[-98.44,29.31],[-98.42,29.30],[-98.40,29.30],[-98.38,29.33],[-98.37,29.36],[-98.38,29.40],[-98.38,29.44],[-98.40,29.47],[-98.43,29.51],[-98.46,29.54],[-98.50,29.57],[-98.55,29.60],[-98.60,29.63],[-98.65,29.66],[-98.72,29.69],[-98.79,29.70],[-98.86,29.68],[-98.92,29.66] ]]]
}},
{"type":"Feature","properties":{"zone":"recharge","label":"Recharge Zone"},"geometry":{"type":"MultiPolygon","coordinates":[
[[ [-98.92,29.64],[-98.88,29.66],[-98.82,29.67],[-98.76,29.66],[-98.70,29.64],[-98.64,29.61],[-98.59,29.58],[-98.54,29.55],[-98.50,29.52],[-98.47,29.49],[-98.44,29.46],[-98.42,29.43],[-98.40,29.40],[-98.42,29.37],[-98.44,29.35],[-98.46,29.32],[-98.48,29.40],[-98.50,29.47],[-98.52,29.53],[-98.55,29.56],[-98.59,29.59],[-98.63,29.61],[-98.68,29.63],[-98.73,29.64],[-98.79,29.64],[-98.84,29.63],[-98.88,29.62],[-98.90,29.61],[-98.92,29.64] ]],
[[ [-99.55,29.42],[-99.45,29.47],[-99.35,29.52],[-99.25,29.56],[-99.15,29.58],[-99.05,29.58],[-98.96,29.57],[-98.92,29.64],[-98.90,29.61],[-98.88,29.58],[-98.90,29.54],[-98.93,29.50],[-98.97,29.46],[-99.02,29.43],[-99.08,29.41],[-99.15,29.39],[-99.25,29.38],[-99.35,29.38],[-99.45,29.39],[-99.52,29.40],[-99.55,29.42] ]]
]}}
]};

const DCS = [
  {name:"Microsoft SAT-1", op:"Microsoft Corporation", county:"Bexar", type:"hyperscale", lat:29.5906, lng:-98.6080},
  {name:"Microsoft SAT-2", op:"Microsoft Corporation", county:"Bexar", type:"hyperscale", lat:29.5915, lng:-98.6095},
  {name:"Microsoft SAT-3", op:"Microsoft Corporation", county:"Bexar", type:"hyperscale", lat:29.5924, lng:-98.6108},
  {name:"Microsoft SAT-4", op:"Microsoft Corporation", county:"Bexar", type:"hyperscale", lat:29.5933, lng:-98.6068},
  {name:"Microsoft SAT-5 (OBOE LLC)", op:"Microsoft Corporation (shell)", county:"Bexar", type:"hyperscale", lat:29.5897, lng:-98.6055},
  {name:"LinkedIn Data Center", op:"LinkedIn Corporation", county:"Bexar", type:"hyperscale", lat:29.5865, lng:-98.6035},
  {name:"TX21 (Vantage at Helotes)", op:"Vantage at Helotes, LLC", county:"Bexar", type:"colo", lat:29.5697, lng:-98.7015},
  {name:"TX22 (Vantage at Helotes)", op:"Vantage at Helotes, LLC", county:"Bexar", type:"colo", lat:29.5710, lng:-98.6998},
  {name:"Oracle America (1)", op:"Oracle America, Inc.", county:"Bexar", type:"hyperscale", lat:29.4730, lng:-98.6890},
  {name:"Oracle America (2)", op:"Oracle America, Inc.", county:"Bexar", type:"hyperscale", lat:29.4745, lng:-98.6875},
  {name:"Oracle America (3)", op:"Oracle America, Inc.", county:"Bexar", type:"hyperscale", lat:29.4718, lng:-98.6910},
  {name:"CyrusOne SAT-1", op:"CyrusOne LLC", county:"Bexar", type:"colo", lat:29.5558, lng:-98.6230},
  {name:"CyrusOne SAT-2", op:"CyrusOne LLC", county:"Bexar", type:"colo", lat:29.5544, lng:-98.6215},
  {name:"NTT San Antonio", op:"NTT Global Data Centers", county:"Bexar", type:"colo", lat:29.5480, lng:-98.6140},
  {name:"Cinco Data Center (Google)", op:"Google Design LLC", county:"Medina", type:"hyperscale", lat:29.4540, lng:-98.8210},
  {name:"Meta Lytle (Winner Ernst LLC)", op:"Meta Platforms / shell entity", county:"Medina", type:"hyperscale", lat:29.2280, lng:-98.7960},
  {name:"NADC San Antonio", op:"National Asset Data Center", county:"Bexar", type:"colo", lat:29.5265, lng:-98.3825},
  {name:"Rackspace Technology Campus", op:"Rackspace Technology", county:"Bexar", type:"colo", lat:29.4970, lng:-98.5570},
];

const ZONE_COPY = {
  recharge:{title:"Recharge Zone",body:"Limestone outcrops where rainwater sinks directly into the aquifer through caves, sinkholes, and fault fractures. Pollutants here can reach San Antonio's tap water within hours. TCEQ requires an Edwards Aquifer Protection Plan before development. <strong style='color:#ddd'>No water usage disclosure required.</strong>",badge:'<span class="zone-badge zb-r">RECHARGE ZONE</span>'},
  transition:{title:"Transition Zone",body:"Hydrologic boundary between the Edwards Plateau and the recharge zone. Partially regulated under 30 TAC §213. Still connected to the recharge system — contamination risk is elevated during heavy rainfall events.",badge:'<span class="zone-badge zb-t">TRANSITION ZONE</span>'},
  contributing:{title:"Contributing Zone",body:"Edwards Plateau uplands that drain toward the recharge zone. Surface water from here ultimately recharges the aquifer. Less directly regulated but critical during storm events — large impervious cover from data center campuses increases runoff.",badge:'<span class="zone-badge zb-c">CONTRIBUTING ZONE</span>'},
};

function classifyPoint(lat, lng) {
  if (lng<=-98.68 && lat>=29.54) return 'recharge';
  if (lng<=-98.70 && lng>=-99.60 && lat>=29.32 && lat<=29.67) return 'recharge';
  if (lng<=-98.55 && lng>=-98.70 && lat>=29.48 && lat<=29.70) return 'transition';
  if (lat>=29.40 && lng<=-98.60) return 'contributing';
  if (lat>=29.55 && lng<=-98.58) return 'contributing';
  return 'none';
}

const map = new maplibregl.Map({
  container:'map',
  style:{
    version:8,
    glyphs:'https://demotiles.maplibre.org/font/{fontstack}/{range}.pbf',
    sources:{osm:{type:'raster',tiles:['https://tile.openstreetmap.org/{z}/{x}/{y}.png'],tileSize:256,attribution:'© OpenStreetMap'}},
    layers:[{id:'osm',type:'raster',source:'osm',paint:{'raster-saturation':-0.5,'raster-brightness-min':0.06,'raster-brightness-max':0.82,'raster-contrast':0.05}}]
  },
  center:[-98.72,29.46], zoom:9.2, minZoom:7, maxZoom:15,
});
map.addControl(new maplibregl.NavigationControl({showCompass:false}),'top-right');

map.on('load', () => {
  const zoneDefs = [
    {id:'contributing', fill:'rgba(210,155,30,0.18)', line:'rgba(210,155,30,0.75)'},
    {id:'transition',   fill:'rgba(60,150,80,0.22)',  line:'rgba(60,150,80,0.85)'},
    {id:'recharge',     fill:'rgba(30,100,200,0.28)', line:'rgba(30,100,200,0.95)'},
  ];

  for (const z of zoneDefs) {
    const fc = {type:'FeatureCollection', features: ZONES.features.filter(f=>f.properties.zone===z.id)};
    map.addSource(`src-${z.id}`,{type:'geojson',data:fc});
    map.addLayer({id:`${z.id}-fill`,type:'fill',source:`src-${z.id}`,paint:{'fill-color':z.fill,'fill-opacity':1}},'dc-layer');
    map.addLayer({id:`${z.id}-line`,type:'line',source:`src-${z.id}`,paint:{'line-color':z.line,'line-width':1.4,'line-opacity':1}},'dc-layer');
    map.on('click',`${z.id}-fill`,(e)=>{
      e.stopPropagation();
      const c = ZONE_COPY[z.id];
      document.getElementById('info').innerHTML=`<div class="info-name">${c.title}</div><div class="info-meta">TCEQ 30 TAC §213 · Edwards Aquifer Protection Program</div><div class="info-body">${c.body}</div>${c.badge}`;
    });
    map.on('mouseenter',`${z.id}-fill`,()=>map.getCanvas().style.cursor='pointer');
    map.on('mouseleave',`${z.id}-fill`,()=>map.getCanvas().style.cursor='');
  }

  const dcFC = {type:'FeatureCollection', features: DCS.map(dc=>({
    type:'Feature', geometry:{type:'Point',coordinates:[dc.lng,dc.lat]},
    properties:{...dc, zone:classifyPoint(dc.lat,dc.lng)}
  }))};

  map.addSource('dc-source',{type:'geojson',data:dcFC});
  map.addLayer({
    id:'dc-layer', type:'circle', source:'dc-source',
    paint:{
      'circle-radius':['interpolate',['linear'],['zoom'],8,5,13,9],
      'circle-color':['match',['get','type'],'crypto','#e74c3c','hyperscale','#f39c12','#e8e2d6'],
      'circle-stroke-width':1.5,
      'circle-stroke-color':['match',['get','type'],'crypto','#c0392b','hyperscale','#d68910','#aaa'],
      'circle-opacity':0.95,
    }
  });

  map.on('click','dc-layer',(e)=>{
    const p = e.features[0].properties;
    const zz = p.zone;
    const badge = zz==='recharge'?'<span class="zone-badge zb-r">RECHARGE ZONE</span>':zz==='transition'?'<span class="zone-badge zb-t">TRANSITION ZONE</span>':zz==='contributing'?'<span class="zone-badge zb-c">CONTRIBUTING ZONE</span>':'<span class="zone-badge zb-n">OUTSIDE REGULATED ZONES</span>';
    document.getElementById('info').innerHTML=`<div class="info-name">${p.name}</div><div class="info-meta">${p.op.toUpperCase()} &middot; ${p.county} County</div><div class="info-body">Registered under Texas Comptroller STAR exemption program. <strong style="color:#ddd">No water usage disclosure required</strong> as a condition of tax exemption or state permitting.</div>${badge}`;
    e.stopPropagation();
  });
  map.on('mouseenter','dc-layer',()=>map.getCanvas().style.cursor='pointer');
  map.on('mouseleave','dc-layer',()=>map.getCanvas().style.cursor='');
});

function toggleLayer(el) {
  el.classList.toggle('off');
  const id=el.dataset.layer, vis=el.classList.contains('off')?'none':'visible';
  [`${id}-fill`,`${id}-line`].forEach(l=>{if(map.getLayer(l))map.setLayoutProperty(l,'visibility',vis)});
}
</script>
</body>
</html>
